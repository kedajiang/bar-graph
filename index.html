<!DOCTYPE html>

<head>
<meta charset="utf-8">
<script src="d3.min.js"></script>
<title>Nintendo vs Playstation</title>
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
</head>


<style>
	html, body {
		margin: 0;
	}
 	.bar--negative {
  	fill: #05015b;
}

	.bar--positive {
  	fill: #dd002a;
}

	#gta {
		margin-left: 30px;
		margin-top: 100px;
	}

	#tomb {
		margin-left: 20px;
	}

	#final {
		margin-left: 20px;
	}

	#mario {
		margin-left: 150px;
	}

	#kirby {
		margin-left: 20px;
	}

	#pikachu {
		margin-left: 20px;
	}


	#chart {
		width: 960px;
		height: 2000px;
		position: absolute;
		top: 765px;
		left: 50%;
		margin-left: -480px;
		z-index: -1;
	}


	#title {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 4em;
		font-weight: bold;
		margin-left: -60px;
		clear: both;
		text-align: center;
	}


	.bar1 {
		width: 45%;
		height: 20px;
		background-color: #05015b;
		float: left;
		position: relative;
	}

	.bar2{
		width: 45%;
		height: 20px;
		background-color: #dd002a;
		float: right;
		position: relative;

	}

	#body {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 2.5em;
		font-weight: bold;
		margin: auto;
		clear: both;
		text-align: center;
		padding-top: 40px;
	}

	#description {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 1.6em;
		font-weight: bold;
		margin: auto;
		clear: both;
		text-align: center;
		padding-top: 40px;
		width: 60%;
	}

	h6 {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 1em;
		color: #cccccc;
	}

	.scale{
		margin-left: 290px;
		margin-top: -300px;
		z-index: 15;
		position: fixed;
	}

	h5 {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 2.2em;
		color: #d7d7d7;
	}

	.date {
		z-index: 15;
		clear: both;
		text-align: center;
		margin-top: -50px;
	}

	#redDot1 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 155px;
	}

	#redDot1:hover {
		opacity: 0.5;
	}

	h4 {
		font-family: 'Source Sans Pro', sans-serif;
		font-size: 2em;
		color: #dd002a;
		z-index: 20;
	}

	#des1 {
		position: absolute;
		left: 950px;
		top: 815px;
  		visibility: hidden;
	}


	#redDot2 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		left: 900px;
		top: 630px;
	}

	#redDot2:hover {
		opacity: 0.5;
	}

	#des2 {
		position: absolute;
		left: 950px;
		top: 1315px;
		visibility: hidden;
	}

	#blueDot1 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 160px;
	}

	#blueDot1:hover {
		opacity: 0.5;
	}

	#des3 {
		color:#05015b;
		position: absolute;
		text-align: right;
		left: 80px;
		top: 865px;
		visibility: hidden;
	}

	#blueDot2 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 420px;
	}

	#blueDot2:hover {
		opacity: 0.5;
	}

	#des4 {
		color: #05015b;
		position: absolute;
		text-align: right;
		left: 80px;
		top: 1135px;
		visibility: hidden;
	}

	#redDot3 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 750px;
	}

	#redDot3:hover {
		opacity: 0.5;
	}

	#des5 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1510px;
		visibility: hidden;
	}

	#redDot4 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 870px;
	}

	#redDot4:hover {
		opacity: 0.5;
	}

	#des6 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1630px;
		visibility: hidden;
	}

	#blueDot3 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 840px;
	}

	#blueDot3:hover {
		opacity: 0.5;
	}

	#des7 {
		color: #05015b;
		position: absolute;
		text-align: right;
		left: 50px;
		top: 1625px;
		visibility: hidden;
	}

	#blueDot4 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 880px;
	}

	#blueDot4:hover {
		opacity: 0.5;
	}

	#des8 {
		color: #05015b;
		position: absolute;
		text-align: right;
		left: 60px;
		top: 1665px;
		visibility: hidden;
	}

	#redDot5 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 942px;
	}

	#redDot5:hover {
		opacity: 0.5;
	}

	#des9 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1760px;
		visibility: hidden;
	}

	#redDot6 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 1142px;
	}

	#redDot6:hover {
		opacity: 0.5;
	}

	#des10 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1980px;
		visibility: hidden;
	}

	#blueDot5 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 1280px;
	}

	#blueDot5:hover {
		opacity: 0.5;
	}

	#des11 {
		color: #05015b;
		position: absolute;
		text-align: right;
		left: 50px;
		top: 2130px;
		visibility: hidden;
	}

	#blueDot6 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #05015b;
		position: relative;
		z-index: 20;
		left: 300px;
		top: 1640px;
	}

	#blueDot6:hover {
		opacity: 0.5;
	}

	#des12 {
		color: #05015b;
		position: absolute;
		text-align: right;
		left: 65px;
		top: 2520px;
		visibility: hidden;
	}

	#redDot7 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 1640px;
	}

	#redDot7:hover {
		opacity: 0.5;
	}

	#des13 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 2520px;
		visibility: hidden;
	}

	#redDot8 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 300px;
	}

	#redDot14:hover {
		opacity: 0.5;
	}

	#des14 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1100px;
		visibility: hidden;
	}

	#redDot9 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 620px;
	}

	#redDot9:hover {
		opacity: 0.5;
	}

	#des15 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 1545px;
		visibility: hidden;
	}

	#redDot10 {
		width: 20px;
		height: 20px;
		border-radius: 100%;
		background-color: #dd002a;
		position: relative;
		z-index: 20;
		left: 900px;
		top: 2370px;
	}

	#redDot10:hover {
		opacity: 0.5;
	}

	#des16 {
		color: #dd002a;
		position: absolute;
		left: 950px;
		top: 3310px;
		visibility: hidden;
	}

	}
</style>

<body>
	<img id="gta" src="images/gta.png" />
	<img id="tomb" src="images/tomb-raider.png" />
	<img id="final" src="images/final-fantasy.png" />
	<img id="mario" src="images/mario.png" />
	<img id="kirby" src="images/kirby.png" />
	<img id="pikachu" src="images/pikachu.png" />
	<div id="title">Playstation &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspNintendo</div>

	<div class="bar1"></div>
	<div class="bar2"></div>
	<div id="body">POPULARITY THROUGH TIME</br>
		2004.1 – 2016.8</div>
	<div id="description">The bar graph below compares the popularity between two Japanese gaming companies – Playstation (Sony) and Nintendo – by showing how much popularity in percentage one subject exceeds another. Data is collected from Google Trends and processed by function: (N-P)/(N+P)%</div>

	<div id="redDot1"></div>
	<h4 id="des1">Pokemon Go </br> release 6.6 </br> <img src="images/pokemon-go.png" /></h4>

	<div id="redDot2"></div>
	<h4 id="des2">Mario Kart 8 </br> release 5.30 </br> <img src="images/mario-kart-8.png" /></h4>

	<div id="blueDot1"></div>
	<h4 id="des3">Uncharted 4 </br> release 5.10 </br> <img src="images/uncharted-4.png" /></h4>

	<div id="blueDot2"></div>
	<h4 id="des4">Bloodborne </br> release 3.24 </br> <img src="images/Bloodborne.png"</h4>

	<div id="redDot3"></div>
	<h4 id="des5">Pokemon XY </br> release 10.12 </br> <img src="images/pokemon-xy.png" /></h4>

	<div id="redDot4"></div>
	<h4 id="des6">Animal Crossing </br> release 6.9 </br> <img src="images/animal-crossing.png" /></h4>

	<div id="blueDot3"></div>
	<h4 id="des7">The Last of Us </br> release 6.14 </br> <img src="images/the-last-of-us.png" /></h4>

	<div id="blueDot4"></div>
	<h4 id="des8">Playstation 4 </br> release 2.20 </br> <img src="images/ps4.jpg" /></h4>

	<div id="redDot5"></div>
	<h4 id="des9">Nintendo Wii U </br> release 11.18 </br> <img src="images/wii-u.png" /></h4>

	<div id="redDot6"></div>
	<h4 id="des10">Nintendo 3DS </br> release 2.26 </br> <img src="images/3ds.png" /></h4>

	<div id="blueDot5"></div>
	<h4 id="des11">Gran Turismo 5 </br> release 11.24 </br> <img src="images/gran-5.jpg" /></h4>

	<div id="blueDot6"></div>
	<h4 id="des12">Call of Duty </br> release 11.10 </br> <img src="images/call-of-duty.jpg" /></h4>

	<div id="redDot7"></div>
	<h4 id="des13">Super Mario Bros </br> release 11.15 </br> <img src="images/super-mario-bros.png" /></h4>

	<div id="redDot8"></div>
	<h4 id="des14">Pokemon Omega Ruby and </br> Alpha Sapphire </br> release 11.21 </br> <img src="images/pokemon-ruby.png" /></h4>

	<div id="redDot9"></div>
	<h4 id="des15">Pokemon XY </br> release 10.12 </br> <img src="images/pokemon-xy.png" /></h4>

	<div id="redDot10"></div>
	<h4 id="des16">Nintendo Wii </br> release 11.19 </br> <img src="images/wii.png" /></h4>
	
	<h6 class="scale">50%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp40%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp30%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp20%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp10%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp0&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp10%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp20%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp30%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp40%&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp50%</h6>

	<h5 class="date">
		2016</br></br></br></br></br></br>
		2015</br></br></br></br></br></br>
		2014</br></br></br></br></br></br>
		2013</br></br></br></br></br></br>
		2012</br></br></br></br></br></br>
		2011</br></br></br></br></br></br>
		2010</br></br></br></br></br></br>
		2009</br></br></br></br></br></br>
		2008</br></br></br></br></br></br>
		2007</br></br></br></br></br></br>
		2006</br></br></br></br></br></br>
		2005</br></br></br></br></br></br>
		2004

	</h5>


	<div id="chart"></div>

	

</body>
 
<script>

	document.getElementById("redDot1").onmouseover = function() {
		document.getElementById("des1").style.visibility = 'visible';
	}

	document.getElementById("redDot1").onmouseleave = function() {
		document.getElementById("des1").style.visibility = 'hidden';
	}

	document.getElementById("redDot2").onmouseover = function() {
		document.getElementById("des2").style.visibility = 'visible';
	}

	document.getElementById("redDot2").onmouseleave = function() {
		document.getElementById("des2").style.visibility = 'hidden';
	}

	document.getElementById("blueDot1").onmouseover = function() {
		document.getElementById("des3").style.visibility = 'visible';
	}

	document.getElementById("blueDot1").onmouseleave = function() {
		document.getElementById("des3").style.visibility = 'hidden';
	}

	document.getElementById("blueDot2").onmouseover = function() {
		document.getElementById("des4").style.visibility = 'visible';
	}

	document.getElementById("blueDot2").onmouseleave = function() {
		document.getElementById("des4").style.visibility = 'hidden';
	}

	document.getElementById("redDot3").onmouseover = function() {
		document.getElementById("des5").style.visibility = 'visible';
	}

	document.getElementById("redDot3").onmouseleave = function() {
		document.getElementById("des5").style.visibility = 'hidden';
	}

	document.getElementById("redDot4").onmouseover = function() {
		document.getElementById("des6").style.visibility = 'visible';
	}

	document.getElementById("redDot4").onmouseleave = function() {
		document.getElementById("des6").style.visibility = 'hidden';
	}

	document.getElementById("blueDot3").onmouseover = function() {
		document.getElementById("des7").style.visibility = 'visible';
	}

	document.getElementById("blueDot3").onmouseleave = function() {
		document.getElementById("des7").style.visibility = 'hidden';
	}

	document.getElementById("blueDot4").onmouseover = function() {
		document.getElementById("des8").style.visibility = 'visible';
	}

	document.getElementById("blueDot4").onmouseleave = function() {
		document.getElementById("des8").style.visibility = 'hidden';
	}

	document.getElementById("redDot5").onmouseover = function() {
		document.getElementById("des9").style.visibility = 'visible';
	}

	document.getElementById("redDot5").onmouseleave = function() {
		document.getElementById("des9").style.visibility = 'hidden';
	}

	document.getElementById("redDot6").onmouseover = function() {
		document.getElementById("des10").style.visibility = 'visible';
	}

	document.getElementById("redDot6").onmouseleave = function() {
		document.getElementById("des10").style.visibility = 'hidden';
	}

	document.getElementById("blueDot5").onmouseover = function() {
		document.getElementById("des11").style.visibility = 'visible';
	}

	document.getElementById("blueDot5").onmouseleave = function() {
		document.getElementById("des11").style.visibility = 'hidden';
	}

	document.getElementById("blueDot6").onmouseover = function() {
		document.getElementById("des12").style.visibility = 'visible';
	}

	document.getElementById("blueDot6").onmouseleave = function() {
		document.getElementById("des12").style.visibility = 'hidden';
	}


	document.getElementById("redDot7").onmouseover = function() {
		document.getElementById("des13").style.visibility = 'visible';
	}

	document.getElementById("redDot7").onmouseleave = function() {
		document.getElementById("des13").style.visibility = 'hidden';
	}

	document.getElementById("redDot8").onmouseover = function() {
		document.getElementById("des14").style.visibility = 'visible';
	}

	document.getElementById("redDot8").onmouseleave = function() {
		document.getElementById("des14").style.visibility = 'hidden';
	}

	document.getElementById("redDot9").onmouseover = function() {
		document.getElementById("des15").style.visibility = 'visible';
	}

	document.getElementById("redDot9").onmouseleave = function() {
		document.getElementById("des15").style.visibility = 'hidden';
	}

	document.getElementById("redDot10").onmouseover = function() {
		document.getElementById("des16").style.visibility = 'visible';
	}

	document.getElementById("redDot10").onmouseleave = function() {
		document.getElementById("des16").style.visibility = 'hidden';
	}








d3.csv("data/Trends.csv", function(error, data) {
	var parseDate = d3.time.format("%Y-%m").parse;

	data.forEach(function(d) {
		d.date = parseDate(d.date);
		d.trend = +d.trend;
	})

	var padding = {top: 20, right: 20, bottom: 20, left: 20},
	w = 800 - padding.left - padding.right,
	h = 3500 - padding.top - padding.bottom;

	var yScale = d3.scale.ordinal()
	.domain(data.map(function(d) {return d.date;}))
	.rangeRoundBands([h, 0], .05);

	var xScale = d3.scale.linear()
	.domain([d3.min(data, function(d){return d.trend;}), d3.max(data, function(d){return d.trend})])
	.range([0, w]);

	var svg = d3.select("#chart")
				.append("svg")
				.attr("width", w + padding.left + padding.right)
				.attr("height", h + padding.top + padding.bottom)
    			.append("g")
    			.attr("transform", "translate(" + padding.left + "," + padding.top + ")");
	svg.selectAll("bar")
      .data(data)
      .enter().append("rect")
      .attr("class", function(d) {return "bar bar--" + (d.trend < 0 ? "negative" : "positive");})
      .attr("x", function(d) { return xScale(Math.min(0, d.trend));})
      .attr("height", yScale.rangeBand())
      .attr("y", function(d) { return yScale(d.date); })
      .attr("width", function(d) { return (Math.abs(xScale(d.trend) - xScale(0))); });


});

</script>
